(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m;$.Define($$,{Website:{ContactForms:{BasicInfoForm:function(){var n;return c.$(c.$((n=function(o){return function(p){return{Name:o,Age:p};};},d.Return(n)),f.input("Name","Please enter your name")),f.inputInt("Age","Please enter a valid age"));},ContactInfoForm:function(){var q,r,s,t,w,x,B;q=(r=f.input("Phone","Empty phone number not allowed"),(s=(t=function(u){return{$:0,$0:u};},function(v){return d.Map(t,v);}),s(r)));w=c.$(c.$(c.$((x=function(y){return function(z){return function(A){return{$:1,$0:{Street:y,City:z,Country:A}};};};},d.Return(x)),f.input("Street","Empty street not allowed")),f.input("City","Empty city not allowed")),f.input("Country","Empty country not allowed"));B=d.Do();return B.Delay(function(){var D,E,F,H;return B.Bind((D=(E=g.ofArray([["Phone",q],["Address",w]]),(F=function(G){return h.Select(0,G);},F(E))),(H=function(I){return i.WithTextLabel("Contact Method",I);},H(D))),function(J){return B.ReturnFrom(J);});});},SignupSequence:function(){var K,L,M,N,P,Q,R,S,T,U,W,Y,Z,_1,_4,_5,_6,_7,_9,_,ba,bb,bc,bd,bf,bh,bi,bk,bm,bG,bH,bI,bM;K=(L=(M=f.BasicInfoForm(),(N=function(O){return i.WithSubmitAndResetButtons(O);},N(M))),(P=(Q=(R=j.get_Default(),(S=(T=(U=function(V){return{$:0,$0:V};},U("Please enter your name and age below.")),(W=function(X){return{$:1,$0:X};},W(T))),$.New(j,{Header:(Y=(Z=function(_0){return{$:0,$0:_0};},Z("Step 1 - Your name and age")),(_1=function(_2){return{$:1,$0:_2};},_1(Y))),Padding:R.Padding,Description:S,BackgroundColor:R.BackgroundColor,BorderColor:R.BorderColor,CssClass:R.CssClass,Style:R.Style}))),function(_3){return i.WithCustomFormContainer(Q,_3);}),P(L)));_4=(_5=(_6=f.ContactInfoForm(),(_7=function(_8){return i.WithSubmitAndResetButtons(_8);},_7(_6))),(_9=(_=(ba=j.get_Default(),(bb=(bc=(bd=function(be){return{$:0,$0:be};},bd("Please enter your phone number or your address below.")),(bf=function(bg){return{$:1,$0:bg};},bf(bc))),$.New(j,{Header:(bh=(bi=function(bj){return{$:0,$0:bj};},bi("Step 2 - Your preferred contact information")),(bk=function(bl){return{$:1,$0:bl};},bk(bh))),Padding:ba.Padding,Description:bb,BackgroundColor:ba.BackgroundColor,BorderColor:ba.BorderColor,CssClass:ba.CssClass,Style:ba.Style}))),function(bl){return i.WithCustomFormContainer(_,bl);}),_9(_5)));bm=function(bn){return function(bo){return function(){var bq,br,bs,bt,bu,bv,bw,bx,bz,bA,bC,bD,bF;bq=bo.$==0?(br=bo.$0,"the phone number: "+br):(bs=bo.$0,"the address: "+bs.Street+", "+bs.City+", "+bs.Country);bt=g.ofArray([(bu=g.ofArray([l.Text("Sign-up summary")]),(bv=l.Tags(),bv.NewTag("legend",bu))),l.P(g.ofArray([(bw="Hi "+bn.Name+"!",(bx=function(by){return l.Text(by);},bx(bw)))])),l.P(g.ofArray([(bz="You are "+$$.String(bn.Age)+" years old",(bA=function(bB){return l.Text(bB);},bA(bz)))])),l.P(g.ofArray([(bC="Your preferred contact method is via "+bq,(bD=function(bE){return l.Text(bE);},bD(bC)))]))]);bF=l.Tags();return bF.NewTag("fieldset",bt);};};};bG=(bH=(bI=d.Do(),bI.Delay(function(){return bI.Bind(K,function(bK){return bI.Bind(_4,function(bL){return bI.ReturnFrom(d.OfElement((bm(bK))(bL)));});});})),(bM=function(bN){return d.Flowlet(bN);},bM(bH)));return m.add(l.Div(g.ofArray([l.H1(g.ofArray([l.Text("Sign up today!")]))])),g.ofArray([bG]));},input:function(bO,bP){var bQ,bR,bS,bT,bV,bX;bQ=(bR=(bS=h.Input(""),(bT=function(bU){return c.Validator().IsNotEmpty(bP,bU);},bT(bS))),(bV=function(bW){return i.WithValidationIcon(bW);},bV(bR)));bX=function(bY){return i.WithTextLabel(bO,bY);};return bX(bQ);},inputInt:function(bZ,b0){var b1,b2,b3,b4,b5,b6,b8,b_,b$;b1=(b2=(b3=(b4=h.Input(""),(b5=c.Validator().IsInt(b0),b5(b4))),(b6=function(b7){return i.WithValidationIcon(b7);},b6(b3))),(b8=function(b9){return i.WithTextLabel(bZ,b9);},b8(b2)));b_=(b$=function(ca){return ca<<0;},function(cb){return d.Map(b$,cb);});return b_(b1);}},SignupSequence:$.Class({get_Body:function(){return f.SignupSequence();}})}});$.OnInit(function(){a=$.Safe($$.IntelliFactory.WebSharper);b=$.Safe(a.Formlet);c=$.Safe(b.Data);d=$.Safe(b.Formlet);e=$.Safe($$.Website);f=$.Safe(e.ContactForms);g=$.Safe(a.List);h=$.Safe(b.Controls);i=$.Safe(b.Enhance);j=$.Safe(i.FormContainerConfiguration);k=$.Safe(a.Html);l=$.Safe(k.Default);return m=$.Safe(k.Operators);});$.OnLoad(function(){});}());
